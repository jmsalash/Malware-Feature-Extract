# Malware-Feature-Extract

Single Java class developed for the Machine Learning lecture of MSc AI and Robotics in Sapienza University of Rome.
Feature extraction for the Drebin malware dataset. The datase can be found in https://www.sec.cs.tu-bs.de/~danarp/drebin/

This class will create the csv data files ready for the classifier (compatible with Weka).

This script includes a parameter where you can say whether you want to create a data file for binary classification (malware detection) or for multiclass (malware classification), as well as the dataset size:
```
//multiclass or binary class. Values:
// multiclass: malware classification
// binary: malware detection
private static String noClasses = "multiclass";
// Size of the dataset
private static  int datasetSize = 5000;
```
The main difference between these two modes are detailed below:

**Malware detection:**
-	Apps will be labelled as either malware or safe apps.
-	Together with the dataset size parameter, there is another parameter to set the ratio of malware and safe samples to include in the dataset.
-	All malware classes are taken into account (including the ones with low number of data samples).
-	There was no need to filter the features based on their type. When adding enough data samples the methodology applied to remove features is enough to identify what features to include.
```
// Portion of malware data samples	
private static  double datasetRatio = 0.5;
// Discard malware classes with less than a number of samples
```

**Malware classification:**
-	Apps will be labelled with their malware family name.
-	No safe apps are added to the dataset.
-	In this case, as suggested in the homework presentation, any families with less than 20 data samples will be discarded. This is the default value, but it can be adjusted in a parameter.
-	Now it is required to filter explicitly by feature type. 

The script generates 2 different data files:
**One for a custom made Na√Øve Bayes text classifier**, available in [this Github repository](https://github.com/jmsalash/NaiveBayes-Classifier)
- Tab delimited.
- Column 1: class type.
- Column 2: features concatenated with a space in between.
- One row per app.

**One for Weka:**
- Tab delimited.
- One column per feature.
- One row per app; each row has 1 or 0 depending on whether the feature is present in the app information file or not respectively.
- One final column with the class type.

It was decided to use a tab delimited text file to avoid any special characters or commas in the features.
